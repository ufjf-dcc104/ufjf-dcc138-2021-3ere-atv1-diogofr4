<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DCC138 Exemplo01</title>
</head>
<body>
    <h1>DCC138 Exemplo01</h1>
     <canvas></canvas>
     <p>por Diogo Freitas de Andrade (2021)</p>

     <script>
         var canvas = document.querySelector("canvas");
         var ctx = canvas.getContext("2d");
         var x = 250;
         var y = 100;
         var a = 0;
         var t0;
         var dt;
         canvas.width = 480;
         canvas.height = 320; 
         requestAnimationFrame(desenha);
        
         function desenha(t){
            t0 = t0 ?? t;
            dt = (t - t0)/1000;

            //Desenha fundo
            ctx.fillStyle = "black";   
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            //Atualiza estado
            x = x + 10 * dt;
            a = a + 2 * Math.PI * dt;
            y = 100 + 100 * Math.cos(a);
            
            //Desenha elementos
            ctx.fillStyle = "white";   
            ctx.fillRect(x, y, 20, 20);

            requestAnimationFrame(desenha);
            t0 = t;
         }
         
     </script>
</body>
</html>